<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="24dp">

        <!-- Header -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:gravity="center"
            android:layout_marginBottom="32dp">

            <ImageView
                android:layout_width="80dp"
                android:layout_height="80dp"
                android:src="@drawable/ic_sms"
                android:contentDescription="SMS Icon"
                app:tint="#FF6B35" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="DiamondStore"
                android:textSize="28sp"
                android:textStyle="bold"
                android:textColor="#FF6B35"
                android:layout_marginTop="8dp" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="SMS Payment Forwarder"
                android:textSize="14sp"
                android:textColor="#666666" />

        </LinearLayout>

        <!-- Permission Status -->
        <TextView
            android:id="@+id/permissionStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="â³ Checking permissions..."
            android:textSize="14sp"
            android:textColor="#FFA500"
            android:padding="12dp"
            android:background="@drawable/rounded_bg"
            android:layout_marginBottom="16dp" />

        <!-- Status Card -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp"
            android:layout_marginBottom="16dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp"
                android:background="#FFF5F0">

                <TextView
                    android:id="@+id/statusText"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Status: Inactive"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#DC3545" />

                <TextView
                    android:id="@+id/statsText"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Messages forwarded: 0\nLast forwarded: Never"
                    android:textSize="13sp"
                    android:textColor="#666666"
                    android:layout_marginTop="8dp" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- API URL Input -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Server URL"
            android:textSize="14sp"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginBottom="8dp" />

        <EditText
            android:id="@+id/editApiUrl"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="https://your-domain.com"
            android:inputType="textUri"
            android:padding="16dp"
            android:background="@drawable/edit_text_bg"
            android:textSize="16sp"
            android:textColor="#333333"
            android:layout_marginBottom="8dp" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Enter your DiamondStore server URL"
            android:textSize="12sp"
            android:textColor="#999999"
            android:layout_marginBottom="16dp" />

        <!-- Buttons Row -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginBottom="16dp">

            <Button
                android:id="@+id/btnSave"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="Save"
                android:textColor="#FFFFFF"
                android:backgroundTint="#FF6B35"
                android:layout_marginEnd="8dp" />

            <Button
                android:id="@+id/btnTest"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="Test Connection"
                android:textColor="#FF6B35"
                android:backgroundTint="#FFFFFF"
                style="@style/Widget.MaterialComponents.Button.OutlinedButton" />

        </LinearLayout>

        <!-- Enable Switch -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="16dp"
            app:cardElevation="2dp"
            android:layout_marginBottom="24dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:padding="20dp"
                android:gravity="center_vertical">

                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Enable SMS Forwarding"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#333333" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Auto-forward payment SMS to server"
                        android:textSize="12sp"
                        android:textColor="#666666" />

                </LinearLayout>

                <com.google.android.material.switchmaterial.SwitchMaterial
                    android:id="@+id/switchEnable"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:thumbTint="#FF6B35"
                    app:trackTint="#FFD4C4" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- Instructions -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="How it works:"
            android:textSize="14sp"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginBottom="8dp" />

        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="1. Enter your DiamondStore server URL\n2. Tap 'Test Connection' to verify\n3. Enable SMS forwarding\n4. Keep app running in background\n\nThe app will automatically detect and forward payment SMS containing keywords like 'received', 'credited', 'FonePay', 'eSewa', etc."
            android:textSize="13sp"
            android:textColor="#666666"
            android:lineSpacingExtra="4dp"
            android:padding="16dp"
            android:background="@drawable/rounded_bg" />

    </LinearLayout>

</ScrollView>
